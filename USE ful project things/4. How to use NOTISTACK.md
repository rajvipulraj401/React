

## 🧾 *Notistack – React Snackbar Notification System (Step-by-Step Notes)*

---

### ✅ STEP 1: Install Notistack

Use npm:

```bash
npm install notistack
```

Or yarn:

```bash
yarn add notistack
```

---

### ✅ STEP 2: Wrap Your App with SnackbarProvider

In main.jsx / main.js, wrap your App inside SnackbarProvider.

```jsx
// main.jsx / main.js

import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App";
import { BrowserRouter } from "react-router-dom";
import { SnackbarProvider } from "notistack";

ReactDOM.createRoot(document.getElementById("root")).render(
  <React.StrictMode>
    <SnackbarProvider
      maxSnack={3} // max snackbars visible at once
      autoHideDuration={3000} // 3 seconds auto close
      anchorOrigin={{ vertical: 'top', horizontal: 'center' }} // position of snackbar
    >
      <BrowserRouter>
        <App />
      </BrowserRouter>
    </SnackbarProvider>
  </React.StrictMode>
);
```

> 🔌 SnackbarProvider is *mandatory*. Without it, snackbars will not work and useSnackbar() will throw an error.

---

### ✅ STEP 3: Understanding the useSnackbar() Hook

- We import `useSnackbar` from notistack.
- This hook returns an *object* containing two main functions:

```js
const { enqueueSnackbar, closeSnackbar } = useSnackbar();
```

| Function | Description |
|----------|-------------|
| `enqueueSnackbar()` | Shows a snackbar with message and options |
| `closeSnackbar()`   | Manually closes a snackbar (optional) |

✅ These are just variable names – you can rename them:

```js
const { enqueueSnackbar: showToast, closeSnackbar: hideToast } = useSnackbar();
showToast("Custom message", { variant: "info" });
```

---

### ✅ STEP 4: Use useSnackbar() in a Component

Now in any component, use the hook and call enqueueSnackbar() to show a snackbar:

```jsx
import React from 'react';
import { useSnackbar } from 'notistack';
import Button from '@mui/material/Button';

const MyComponent = () => {
  const { enqueueSnackbar } = useSnackbar();

  const handleSuccess = () => {
    enqueueSnackbar('Data saved successfully!', {
      variant: 'success', // green color
    });
  };

  const handleError = () => {
    enqueueSnackbar('Something went wrong!', {
      variant: 'error', // red color
    });
  };

  return (
    <div>
      <Button onClick={handleSuccess}>Show Success</Button>
      <Button onClick={handleError}>Show Error</Button>
    </div>
  );
};

export default MyComponent;
```

---

### ✅ STEP 5: Optional – Customize Each Snackbar

You can change the position or other options for each snackbar individually:

```js
enqueueSnackbar('Custom Positioned Snackbar', {
  variant: 'info',
  anchorOrigin: {
    vertical: 'bottom',
    horizontal: 'right',
  },
});
```

---

### ✅ Quick Summary Table

| Step | Action |
|------|--------|
| 1 | Install notistack |
| 2 | Wrap app with SnackbarProvider |
| 3 | Use useSnackbar() in components |
| 4 | Get `{ enqueueSnackbar, closeSnackbar }` from hook |
| 5 | Use `enqueueSnackbar("msg", { options })` to show snackbar |
| 6 | You can rename the returned functions (they are not fixed names) |
| 7 | Customize each snackbar using variant, anchorOrigin, etc. |

---

### ✅ STEP 6: Show Persistent Snackbar Like `alert()` + Disable Button Until Closed

📌 Use Case: You want the snackbar to behave like `alert()` — until the user **closes** it, they **can't click** the Confirm button again.

#### 💡 Code:

```jsx
const [snackbarOpen, setSnackbarOpen] = useState(false);
const { enqueueSnackbar, closeSnackbar } = useSnackbar();

const handleConfirm = () => {
  const emailRegex = /\S+@\S+\.\S+/;

  if (!email || !emailRegex.test(email)) {
    enqueueSnackbar("Please enter a valid email", {
      variant: "error",
      persist: true, // Keeps it on screen
      action: (key) => (
        <button onClick={() => closeSnackbar(key)}>❌</button>
      ),
      onClose: () => setSnackbarOpen(false), // Reset after close
    });

    setSnackbarOpen(true); // 🔒 Disable Confirm button
    return;
  }

  onConfirm(email); // ✅ Continue if email is valid
};
```

#### 🧩 Use `disabled` prop in your Button:

```jsx
<Button
  background="var(--color-primary)"
  handleBtnClick={handleConfirm}
  width="120px"
  height="50px"
  disabled={snackbarOpen} // 🔐 disables when error is showing
>
  Confirm
</Button>
```

---

### 🔍 What Are These Options Doing?

| Option | Use |
|--------|-----|
| `persist: true` | Makes snackbar **stay** until closed manually |
| `action` | Adds a **custom Close (`❌`)** button inside snackbar |
| `closeSnackbar(key)` | Closes that snackbar when action is clicked |
| `onClose` | Callback when snackbar is closed – here it resets button |
| `disabled={snackbarOpen}` | Prevents button click when error is shown |

---

✅ Now your snackbar acts just like a blocking `alert()` — **user must dismiss before they can proceed again.**

---


Bhai, yeh notes ab top-tier hai ✅  
You’ve covered *basics, structure, and customization* — solid reference for your future projects. Let me know if you want the global helper setup too (snackbar outside components like in services/utils files).